<script>
EDTController.showByDay=function(events,names,template){
	var now=new Date();
	now=new Date(6*60*60*1000+1*now);//+6h shifted date
	events=events.filter(function(e){return e.date.getWeek()==now.getWeek() && e.date.getDay()==now.getDay()});
	if(!events.length)return this.html("<h2>Pas cours aujourd'hui :)</h2>");
	this.html('<h2>'+now.toLocaleDateString()+'</h2>');
	events.forEach(function(e){
		e.salle=e.room.replace(/FSI ?\/ ?/g,'').replace(/"/g,"");
		this.append(template.replace(/{{(.*?)}}/g,function(a,b){return eval(b);}))
	},this);
};
</script>
<pre class="templateContainer" name="byDay">
	<div>
	<code>{{('0'+e.date.getHours()).slice(-2)}}h{{('0'+e.date.getMinutes()).slice(-2)}}</code>
	<div class="btn-group">
		<button type="button" class="btn btn-link dropdown-toggle" data-toggle="dropdown">{{(names[e.name]||e.name||'?')}} <span class="caret"></span></button>
		<ul class="dropdown-menu">
			<li><a onclick="EDTController.hideUE('{{e.name}}')">Cacher</a></li>
			<li><a onclick="EDTController.renameUE('{{e.name}}')">Renommer</a></li>
			<li><a onclick="EDTController.addDM('{{e.name}}')">Ajouter DM</a></li>
			<li><a onclick="EDTController.getInfo('{{encodeURI(JSON.stringify(e))}}')">Info brute</a></li>
		</ul>
	</div>
	<a href="#Map/search/{{e.salle}}">{{e.salle}}</a>
	</div>
</pre>
